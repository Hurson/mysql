<html>
	<head>
		<meta http-equiv="pragma" content="no-cache">
		<meta http-equiv="expires" content="0">
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
		<link href="TreePanel.css" rel="stylesheet" type="text/css">
		<script type=text/javascript src="common-min.js"></script>
		<script type=text/javascript src="jquery.js"></script>
		<script type=text/javascript src="TreePanel.js"></script>
		<script type=text/javascript src="china_2_code.js"></script>
	</head>
<body>
<input type='button' value='删除当前节点' onclick='deleteNode()'>
<input type='button' value='查看当前节点' onclick='seeFocusNode()'>
<input type='button' value='查看选中节点数' onclick='fChecked()'>
<input type='button' value='添加节点' onclick='addNode()'>
<input type='button' value='展开全部节点' onclick='expandAll()'>
<input type='button' value='折叠全部节点' onclick='collapseAll()'>
</body>
<script type=text/javascript>
	var l0 = new Date().getTime();

	tree = new TreePanel({
		'root' : root
	});

	tree.render();
	
	alert( (new Date().getTime()-l0));

	function deleteNode(){
		var node = tree.focusNode;
		if(node){
			var parentNode = node.parentNode;
			if(parentNode){
				parentNode.removeChild(node);
			}
		}
	}
	
	function seeFocusNode(){
		var node = tree.focusNode;
		if(node!=null){
			alert('你选中的是'+ node.attributes.text );
		}else{
			alert('没有选中节点')
		}
	}
	
	function addNode(){
		var node = tree.focusNode;
		if(node!=null){
			var text = window.prompt('输入节点名称!','')
			if(text){
				var newNode = new TreeNode({text:text});
				node.appendChild(newNode);
			}
		}else{
			alert('没有选中节点')
		}
	}
	
	function expandAll(){
		tree.expandAll();
	}
	function collapseAll(){
		tree.collapseAll();
	}
	
	function fChecked(){
		alert( tree.getChecked().length );
	}
</script>
</html>